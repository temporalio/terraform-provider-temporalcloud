---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "temporalcloud_namespace Resource - terraform-provider-temporalcloud"
subcategory: ""
description: |-
  Provisions a Temporal Cloud namespace.
---

# temporalcloud_namespace (Resource)

Provisions a Temporal Cloud namespace.

## Example Usage

```terraform
terraform {
  required_providers {
    tls = {
      source  = "hashicorp/tls"
      version = ">= 2.0.0"
    }
    temporalcloud = {
      source = "temporalio/temporalcloud"
    }
  }
}

provider "temporalcloud" {

}

// the following example demonstrates how to manage a namespace resource with a CA cert generated outside of Terrafrom

resource "temporalcloud_namespace" "terraform" {
  name               = "terraform"
  regions            = ["aws-us-east-1"]
  accepted_client_ca = base64encode(file("${path.module}/ca.pem"))
  retention_days     = 14
}

// the following example demonstrates how to use the hashi tls provider to generate certs for use in a namespace and end-entity
// the hasicorp tls provider is used to generate the namespace's ca cert
// for more information see the provider's documentation here https://registry.terraform.io/providers/hashicorp/tls/latest/docs
provider "tls" {
}

// root CA example - the namespace cert
// This cert is not stored anywhere locally. 
// If new certificates are needed you need to regenerate all of them (including the client end-entity certs).
resource "tls_self_signed_cert" "ca" {
  private_key_pem = tls_private_key.ca.private_key_pem
  subject {
    // arguments to to supply for the format function are the namespace name, region, and account id
    common_name = format("%s-%s.%s", "terraform2", ["aws-us-east-1"], "terraform")
    // this should represent your organization name
    organization = "terraform"
  }
  allowed_uses = [
    "cert_signing",
    "server_auth",
    "client_auth",
  ]
  validity_period_hours = 8760 // 1 year
  is_ca_certificate     = true
}

resource "tls_private_key" "default" {
  algorithm = "RSA"
}

resource "tls_cert_request" "default" {
  private_key_pem = tls_private_key.default.private_key_pem
  dns_names       = []
  subject {
    // arguments to to supply for the format function are the namespace name, region, and account id
    common_name = format("%s-%s.%s", "terraform2", ["aws-us-east-1"], "terraform")
    // this should represent your organization name
    organization = "terraform"
  }
}

// This is the end-entity cert that is used to authorize the workers connecting to temporal cloud.
// Store this cert in KMS as a best practice
// Reference your KMS's provider documentation for details on how to store a cert in KMS
resource "tls_locally_signed_cert" "default" {
  cert_request_pem      = tls_cert_request.default.cert_request_pem
  ca_private_key_pem    = tls_private_key.ca.private_key_pem
  ca_cert_pem           = tls_self_signed_cert.ca.cert_pem
  validity_period_hours = var.certificate_expiration_hours
  allowed_uses = [
    "client_auth",
    "digital_signature"
  ]
  is_ca_certificate = false
}

// example namespace that uses the CA cert generated in this example
resource "temporalcloud_namespace" "terraform2" {
  name               = "terraform2"
  regions            = ["aws-us-east-1"]
  accepted_client_ca = base64encode(tls_self_signed_cert.ca.cert_pem)
  retention_days     = 14
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the namespace.
- `regions` (List of String) The list of regions that this namespace is available in. If more than one region is specified, this namespace is a "Multi-region Namespace", which is currently unsupported by the Terraform provider.
- `retention_days` (Number) The number of days to retain workflow history. Any changes to the retention period will be applied to all new running workflows.

### Optional

- `accepted_client_ca` (String) The Base64-encoded CA cert in PEM format that clients use when authenticating with Temporal Cloud.
- `api_key_auth` (Boolean) If true, Temporal Cloud will use API key authentication for this namespace. If false, mutual TLS (mTLS) authentication will be used.
- `certificate_filters` (Attributes List) A list of filters to apply to client certificates when initiating a connection Temporal Cloud. If present, connections will only be allowed from client certificates whose distinguished name properties match at least one of the filters. (see [below for nested schema](#nestedatt--certificate_filters))
- `codec_server` (Attributes) A codec server is used by the Temporal Cloud UI to decode payloads for all users interacting with this namespace, even if the workflow history itself is encrypted. (see [below for nested schema](#nestedatt--codec_server))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `endpoints` (Attributes) The endpoints for the namespace. (see [below for nested schema](#nestedatt--endpoints))
- `id` (String) The unique identifier of the namespace across all Temporal Cloud tenants.

<a id="nestedatt--certificate_filters"></a>
### Nested Schema for `certificate_filters`

Optional:

- `common_name` (String) The certificate's common name.
- `organization` (String) The certificate's organization.
- `organizational_unit` (String) The certificate's organizational unit.
- `subject_alternative_name` (String) The certificate's subject alternative name (or SAN).


<a id="nestedatt--codec_server"></a>
### Nested Schema for `codec_server`

Required:

- `endpoint` (String) The endpoint of the codec server. Must begin with "https".

Optional:

- `include_cross_origin_credentials` (Boolean) If true, Temporal Cloud will include cross-origin credentials in requests to the codec server.
- `pass_access_token` (Boolean) If true, Temporal Cloud will pass the access token to the codec server upon each request.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.


<a id="nestedatt--endpoints"></a>
### Nested Schema for `endpoints`

Read-Only:

- `grpc_address` (String) The gRPC endpoint for the namespace that clients can connect to.
- `web_address` (String) The address in the Temporal Cloud Web UI for the namespace

## Import

Import is supported using the following syntax:

```shell
terraform import temporalcloud_namespace.terraform terraform.badf00d
```
